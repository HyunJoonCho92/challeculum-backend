<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="companion.challeculum.domains.usermission.UserMissionRepository">

    <sql id="selectExtended">
        select um.id as id,
               user_id,
               mission_id,
               submit_at,
               is_accepted,
               image_url,
               ground_id,
               assignment,
               start_at,
               end_at
        from user_mission um
                 join user u on u.id = um.user_id
                 join mission m on m.id = um.mission_id
    </sql>
    <insert id="createUserMission" parameterType="UserMissionDTO">
        insert into user_mission (user_id, mission_id, submit_at, is_accepted, image_url)
            valuse (#{userId},#{missionId},#{isAccepted},#{imageUrl})
    </insert>
    <select id="getUserMissionByUserIdAndMatchId" parameterType="map" resultType="UserMissionDTO">
        select *
        from user_mission
        where user_id = #{userID}
          and mission_id = #{missionID}
    </select>


    <!--    <select id="getUserMatchByUserId" parameterType="map" resultType="UserMissionDTO">-->
    <!--        select-->
    <!--        from usser_mission um-->

    <!--    </select>-->
    <!--    <update id="updateMission" parameterType="UserMissionDTO">-->


    <!--    </update>-->
</mapper>

